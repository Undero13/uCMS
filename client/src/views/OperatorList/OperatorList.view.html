<Navigation></Navigation>
<Notification v-if="msg" :msg="msg" :type="'error'"></Notification>

<template v-if="!loading">
  <button class="button is-ucms" @click="showModal = true">
    Add new operator
  </button>
  <TableComponent :data="operatorList" @setSearch="onSearch"></TableComponent>
  <Pagination :page="pageCount"></Pagination>
</template>
<template v-else>
  <div class="is-loading"></div>
</template>

<Modal v-if="showModal" @modalClose="showModal = false">
  <template v-slot:header>
    <p class="modal-card-title">Add new operator</p>
  </template>

  <template v-slot:body>
    <DynamicForm :fields="formFields" @formSubmit="createOperator($event)"></DynamicForm>
  </template>
</Modal>
